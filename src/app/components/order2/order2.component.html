<div class="order">
  <div class="products">
    <h3>ORDER PROCESS</h3>

    <ul class="order_prozess">
      <li class="active"><span>1</span>SELECT</li>
      <li><span>2</span>SUMMERY</li>
    </ul>

    <div class="productSelect">
      <div class="search" *ngIf="!order.productChoosen">
        <h4>Products <i class="fa icon-plus new" (click)="showNewDialog()">Add new</i></h4>

        <div class="inner">
          <input type="text" class="search" placeholder="Input.." (keyup)="productsSearchWordChanged($event.target.value)">
        </div>
        <br />
        <p *ngIf="! productsWithArticlesAndProductPath.length"><b>Loading Products, please wait...</b></p>
        <ul class="products">
          <ng-container *ngFor="let product of productsWithArticlesAndProductPath">
            <li (click)="productSelected(product)" *ngIf="filterArticleList(product)" class="row">
              <span  class="add icon-plus"></span>
              <p><b>Product Category</b>: {{product.path.path}}&nbsp;<b>Price:</b>&nbsp;{{product.price}} €</p>
              <div class="span2">
                <img src="{{config.baseURL}}uploads/no_pic_thumb.jpg" />
              </div>
              <div class="span5">
                <p><span><b>DF-ID:</b></span><span>{{product.DFID}}</span></p>
                <p><span><b>Display SAP No.:</b></span><span>{{product.SAP}}</span></p>
                <p><span><b>Display Title:</b></span><span>{{product.title}}</span></p>
              </div>
              <div class="span5">
                <ul>
                  <li *ngFor="let article of product.article">
                    <p><b>{{article.title}}</b><br />{{article.units}} x {{article.articlenr}}</p>
                  </li>
                </ul>
              </div>
              <div class="clear"></div>
            </li>
          </ng-container>
        </ul>

      </div>

      <div *ngIf="order.productChoosen" class="inner product-choosen">
        <span (click)="removeSelected(product)" class="cancel icon-cancel"></span>
        <p><b>Product Category</b>: {{order.productChoosen.path.path}}&nbsp;<b>Price:</b>&nbsp;{{order.productChoosen.price}} €</p>
        <div class="span2">
          <img src="{{config.baseURL}}uploads/no_pic_thumb.jpg" />
        </div>
        <div class="span5">
          <p><span><b>DF-ID:</b></span><span>{{order.productChoosen.DFID}}</span></p>
          <p><span><b>Display SAP No.:</b></span><span>{{order.productChoosen.SAP}}</span></p>
          <p><span><b>Display Title:</b></span><span>{{order.productChoosen.title}}</span></p>
        </div>
        <div class="span5">
          <ul>
            <li *ngFor="let article of order.productChoosen.article">
              <p><b>{{article.title}}</b><br />{{article.units}} x {{article.articlenr}} ({{article.packaging}})</p>
            </li>
          </ul>
        </div>
        <div class="clear"></div>
      </div>
      <div class="spacer20"></div>
      <div *ngIf="order.productChoosen" class="inner">
        <mat-form-field>
          <input type="text" matInput name="quantity" placeholder="Display Quantity" [(ngModel)]="order.displayQuantity">
        </mat-form-field>


        <mat-form-field>
          <input type="text" matInput name="topSign" placeholder="Top Sign" value="{{topSigns[order.productChoosen.topsign_id].title}}" disabled>
        </mat-form-field>
        <div class="clear"></div>
      </div>
      <div class="spacer20"></div>
      <div *ngIf="order.productChoosen" class="inner">
        <table>
          <tr>
            <th>SAP-No.</th>
            <th>Title</th>
            <th>Type</th>
            <th>quantity</th>
            <th>Weight</th>
          </tr>
          <tr>
            <td>{{order.productChoosen.SAP}}</td>
            <td>{{order.productChoosen.title}}</td>
            <td>Display</td>
            <td>{{order.displayQuantity}}</td>
            <td>{{getDisplayWeight()}}&nbsp;kg</td>
          </tr>
          <tr  *ngIf="order.topSign">
            <td>{{topSignsById[order.topSign].articlenr}}</td>
            <td>{{topSignsById[order.topSign].title}}</td>
            <td>TopSign</td>
            <td>{{order.displayQuantity}}</td>
            <td>{{getTopSignWeight()}}&nbsp;kg</td>
          </tr>
          <tr *ngFor="let article of order.productChoosen.article">
            <td>{{article.articlenr}}</td>
            <td>{{article.title}}</td>
            <td>Article</td>
            <td>{{article.units}}</td>
            <td>{{getArticleWeight(article)}}&nbsp;kg</td>
          </tr>
          <tr>
            <td colspan="4">
              <b>Total Weight</b>
            </td>
            <td>
              <b>{{getTotalWeight() }}&nbsp;kg</b>
            </td>
          </tr>
        </table>

      </div>

      <div *ngIf="order.productChoosen" class="inner">
        <div class="spacer20"></div>
        <mat-form-field>
          <input matInput [matDatepicker]="dp3" placeholder="lead Time 5 weeks" disabled>
          <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
          <mat-datepicker #dp3 disabled="false"></mat-datepicker>
        </mat-form-field>
      </div>

      <div *ngIf="order.productChoosen" class="inner">
        <div class="spacer20"></div>
        <button mat-raised-button routerLink="/order3">Continue</button>
        <div class="clear"></div>
      </div>
    </div>
  </div>
</div>




<div class="overlaybg" *ngIf="ui.showOverlay"></div>
<!--
<div class="overlay" *ngIf="ui.showEditNew && productChoosenCopy">
  <div class="overlay-content">
    <span (click)="ui.showOverlay = false; productChoosenCopy = null" class="close">X</span>
    <h3 class="fa icon-edit">Change Artcile List</h3>
    <p class="warning">WARNING! Changing the Article List can result in an invalid display setting. If you set up an article List that is not possible, your order will be canceled.</p>
    <hr />
    <div class="container-flex display-parts-assembly" >
      <ul class="choosen">
        <li *ngFor="let article of productChoosenCopy.article">
          <span class="artnr">{{article.articlenr}}</span>
          <span class="title">{{article.title}}</span>
          <span class="units"><b>{{article.units}}</b></span>
          <span (click)="addArticleToArticleList(article)" class="icon-plus"></span>
          <span (click)="removeArticleFromArticleList(article)" class="icon-minus"></span>
        </li>
      </ul>
      <button mat-raised-button (click)="changeArticleList()">Change</button>
      <div class="spacer20"></div>
      <hr />
      <div class="spacer20"></div>
      <p>Add Article</p>
      <mat-form-field>
        <input type="text" matInput name="partsearch" placeholder="Search by Articlenr. or Title" (keyup)="articleSearchwordChanged($event.target.value)">
      </mat-form-field>
      <div class="chooseDisplayPart">
        <ul>
          <li *ngFor="let article of articles">
            <ng-container *ngIf="article.deleted == 0 && ( article.title.toLowerCase().indexOf(articleSearchword.toLowerCase()) !== -1 || article.articlenr.toLowerCase().indexOf(articleSearchword.toLowerCase()) !== -1 )">
              <span class="artnr">{{article.articlenr}}</span>
              <span class="title">{{article.title}}</span>
              <input type="text" id="countArticle{{article.articlenr}}" />
              <span (click)="addArticleToArticleList(article)" class="icon-plus"></span>
            </ng-container>
          </li>
        </ul>

      </div>
    </div>
  </div>
</div>
-->
